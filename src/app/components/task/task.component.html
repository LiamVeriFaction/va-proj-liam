<mat-accordion *ngIf="task">
  <mat-expansion-panel
    (opened)="panelOpenState = true"
    (closed)="panelOpenState = false"
    hideToggle="true"
    class="task"
  >
    <mat-expansion-panel-header>
      <mat-panel-title>
        <div class="title">{{ task.heading }}</div>
        <span class="material-icons" *ngIf="panelOpenState"> expand_less </span>
        <span class="material-icons" *ngIf="!panelOpenState">
          expand_more
        </span>
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div *ngIf="noteList">
      <div *ngFor="let note of noteList">
        <note [note]="note" (changeNote)="changeNote($event)"></note>
      </div>
    </div>
    <div class="task-options">
      <button
        mat-stroked-button
        class="addButton"
        (click)="addNoteDialog(task.id)"
      >
        Add Note
      </button>
    </div>
  </mat-expansion-panel>
</mat-accordion>
